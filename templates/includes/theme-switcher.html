<!-- 主题切换器组件 -->
<div class="theme-switcher">
    <button class="theme-btn" id="themeSwitcherBtn" title="切换主题">
        🎨
    </button>
    
    <div class="theme-panel" id="themePanel">
        <div class="theme-panel-header">
            <span class="theme-panel-title">🎨 选择主题</span>
            <button class="theme-close" id="themePanelClose">×</button>
        </div>
        
        <div class="theme-options" id="themeOptions">
            <div class="theme-option" data-theme="blue">
                <div class="theme-option-icon">💼</div>
                <div class="theme-option-name">深蓝商务</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option active" data-theme="green">
                <div class="theme-option-icon">🍃</div>
                <div class="theme-option-name">清新绿色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="purple">
                <div class="theme-option-icon">💜</div>
                <div class="theme-option-name">优雅紫色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="orange">
                <div class="theme-option-icon">🧡</div>
                <div class="theme-option-name">活力橙色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="pink">
                <div class="theme-option-icon">💗</div>
                <div class="theme-option-name">浪漫粉色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="cyan">
                <div class="theme-option-icon">🌊</div>
                <div class="theme-option-name">科技青色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="red">
                <div class="theme-option-icon">❤️</div>
                <div class="theme-option-name">热情红色</div>
                <div class="theme-option-color"></div>
            </div>
            
            <div class="theme-option" data-theme="indigo">
                <div class="theme-option-icon">🌌</div>
                <div class="theme-option-name">深邃靛蓝</div>
                <div class="theme-option-color"></div>
            </div>
        </div>
    </div>
</div>

<script>
// 主题切换器交互逻辑
(function() {
    const btn = document.getElementById('themeSwitcherBtn');
    const panel = document.getElementById('themePanel');
    const closeBtn = document.getElementById('themePanelClose');
    const options = document.querySelectorAll('.theme-option');
    
    // 切换面板显示
    btn.addEventListener('click', (e) => {
        e.stopPropagation();
        panel.classList.toggle('show');
    });
    
    // 关闭按钮
    closeBtn.addEventListener('click', () => {
        panel.classList.remove('show');
    });
    
    // 点击外部关闭
    document.addEventListener('click', (e) => {
        if (!panel.contains(e.target) && !btn.contains(e.target)) {
            panel.classList.remove('show');
        }
    });
    
    // 主题选择
    options.forEach(option => {
        option.addEventListener('click', () => {
            const theme = option.dataset.theme;
            
            // 更新active状态
            options.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active');
            
            // 切换主题
            if (window.ThemeManager) {
                window.ThemeManager.switchTheme(theme);
            }
            
            // 关闭面板
            setTimeout(() => {
                panel.classList.remove('show');
            }, 300);
        });
    });
    
    // 监听主题变化，更新active状态
    window.addEventListener('themeChanged', (e) => {
        const currentTheme = e.detail.theme;
        options.forEach(opt => {
            if (opt.dataset.theme === currentTheme) {
                opt.classList.add('active');
            } else {
                opt.classList.remove('active');
            }
        });
    });
    
    // 初始化时设置active状态
    if (window.ThemeManager) {
        const currentTheme = window.ThemeManager.getCurrentTheme();
        options.forEach(opt => {
            if (opt.dataset.theme === currentTheme) {
                opt.classList.add('active');
            }
        });
    }
})();
</script>

